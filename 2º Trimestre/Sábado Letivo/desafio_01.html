<script>
    /*
    Custo da Viagem
    Um usuário deseja realizar uma viagem! A primeira pergunta que o programa deverá fazer é quanto que o usuário possui de "dinheiros" 
    (R$) para realizar a viagem.

    O programa também deverá perguntar ao usuário para qual região do Brasil ele deseja ir (Norte-NO, Nordeste-NE, Centro-Oeste-CO, Sudeste-SE, Sul-SU).
    Considere que o usuário deverá digitar a sigla da região desejada.

    O programa também deverá perguntar qual a sua região de origem (Norte-NO, Nordeste-NE, Centro-Oeste-CO, Sudeste-SE, Sul-SU). 
    Só é possível viajar para a região Sul partindo da região Sudeste. Só é possível viajar para a região Sudeste partindo da região Sul. 
    Só é possível viajar para a região Centro-Oeste partindo da região Norte ou Nordeste. Só é possível viajar para a região Nordeste partindo da 
    região Centro-Oeste. Só é possível viajar para a região Norte partindo da região Centro-Oeste. Só é possível viajar para a região 
    Nordeste partindo da região Norte. Só é possível viajar para a região Centro-Oeste partindo da região Nordeste ou Sudeste. 
    Só é possível viajar para a região Sudeste partindo da região Centro-Oeste.

    Caso o usuário informar uma região de origem e uma região de destino válidas, o programa deverá perguntar por quantos dias deseja ficar no destino. 

    O programa deverá perguntar o valor da diária do hotel.
    
    O programa deverá perguntar o valor da passagem de ida e volta.

    O programa deverá também perguntar se o usuário deseja alugar um carro. Caso responda positivamente, o programa deverá perguntar o valor do 
    aluguel do carro.

    Se o usuário quiser alugar um carro, o programa deverá perguntar se deseja contratar seguro do veículo. Caso deseja contratar, 
    deverá apresentar as seguintes opções:
    -> 1: Contratar seguro total -> 8% a mais do preço do aluguel do carro por dia
    -> 2: Contratar seguro parcial -> 5% a mais do preço do aluguel do carro por dia
    -> 3: Contratar seguro contra roubos -> 4% a mais do preço do aluguel do carro por dia
    -> 4: Contratar seguro contra terceiros -> 3% a mais do preço do aluguel do carro por dia
    -> 5: Não contratar seguro

    Imagine que o usuário deseja gastar 20% do valor que ele possui guardado para realizar a viagem. O programa deverá exibir o valor que o 
    usuário poderá gastar com a viagem e qual o custo total da viagem. Caso o custo da viagem ultrapasse em mais de 20% o que o 
    usuário possui guardado, o programa deverá exibir uma mensagem de erro e encerrar o programa. Porém, se o custo da viagem ultrapassar em 10% 
    o valor que possui guardado, o programa deverá perguntar ao usuário se ele deseja continuar com a viagem. Caso o usuário responda positivamente, 
    o programa deverá exibir a quantia faltante para realizar a viagem. Porém, caso o usuário responda negativamente, o programa deverá informar que 
    infelizmente a viagem não poderá ser realizada e encerrar o programa.

    Se o usuário proceder com a viagem, o programa deverá perguntar ao usuário se ele deseja pagar a diferença usando B-Boleto, 
    C-Cartão de Crédito ou P-Pix. Caso o usuário informar um dado inválido, o programa deverá exibir uma mensagem de erro e perguntar
    novamente como ele deseja pagar a diferença.

    Com exceção da Forma de Pagamento via Pix-P, as demais formas de pagamento terão acréscimos. Se o usuário optar por pagar usando B-Boleto, 
    o programa deverá acrescentar 5% do valor total da viagem. Se o usuário optar por pagar usando C-Cartão de Crédito, o programa deverá 
    acrescentar 2% do valor total da viagem. 
    
    Informe ao usuário o valor total da viagem e a forma de pagamento escolhida. Pergunte se ele deseja parcelar o pagamento, sendo que o
    prazo máximo para pagar a diferença é de 4 vezes. Caso o prazo informado pelo usuário seja inválido, o programa deverá exibir uma 
    mensagem de erro e perguntar novamente o prazo para pagar a diferença. Informando um dado válido, o programa deverá exibir o valor total da viagem. 
    Se for o caso, o programa deverá exibir o valor adicional a ser pago, correspondendo com a diferença que deverá custar além do que possui guardado.
    O programa também deverá mostrar a Forma de pagamento escolhida para pagar tal diferença e, se for o caso, o valor de cada parcela a ser paga.
    */

    //ENTRADA
    // Pergunta ao usuário quanto dinheiro ele possui para a viagem
    let dinheiroViagem = prompt("Quanto dinheiro você possui para a viagem?");

    // Verifica se o valor informado é um número válido
    if (!isNaN(dinheiroViagem)) {
        alert("Valor inválido. O programa será encerrado.");
        // Encerra o programa
    } else {
        // Pergunta ao usuário para qual região ele deseja ir
        let regiaoDestino = prompt("Para qual região do Brasil você deseja ir? (Norte-NO, Nordeste-NE, Centro-Oeste-CO, Sudeste-SE, Sul-SU)");

        // Verifica se a região de destino informada é válida
        if (
            regiaoDestino !== "NO" &&
            regiaoDestino !== "NE" &&
            regiaoDestino !== "CO" &&
            regiaoDestino !== "SE" &&
            regiaoDestino !== "SU"
        ) {
            alert("Região de destino inválida. O programa será encerrado.");
            // Encerra o programa
        } else {
            // Pergunta ao usuário qual é a sua região de origem
            let regiaoOrigem = prompt("Qual é a sua região de origem? (Norte-NO, Nordeste-NE, Centro-Oeste-CO, Sudeste-SE, Sul-SU)");

            // Verifica se a região de origem informada é válida
            if (regiaoOrigem !== "NO" && regiaoOrigem !== "NE" && regiaoOrigem !== "CO" && regiaoOrigem !== "SE" && regiaoOrigem !== "SU") {
                alert("Região de origem inválida. O programa será encerrado.");
                // Encerra o programa
            } else {
                // Verifica se é possível viajar da região de origem para a região de destino
                if (
                    (regiaoOrigem === "SE" && regiaoDestino === "SU") ||
                    (regiaoOrigem === "SU" && regiaoDestino === "SE") ||
                    (regiaoOrigem === "NO" && (regiaoDestino === "CO" || regiaoDestino === "NE")) ||
                    (regiaoOrigem === "NE" && (regiaoDestino === "CO" || regiaoDestino === "NO")) ||
                    (regiaoOrigem === "CO" && (regiaoDestino === "NE" || regiaoDestino === "SU")) ||
                    (regiaoOrigem === "NE" && regiaoDestino === "NO")
                ) {
                    // Pergunta ao usuário por quantos dias ele deseja ficar no destino
                    let diasViagem = prompt("Por quantos dias você deseja ficar no destino?");

                    // Verifica se o valor informado é um número válido
                    if (!isNaN(diasViagem)) {
                        alert("Valor inválido. O programa será encerrado.");
                        // Encerra o programa
                    } else {
                        // Pergunta ao usuário o valor da diária do hotel
                        let valorDiariaHotel = prompt("Qual é o valor da diária do hotel?");

                        // Verifica se o valor informado é um número válido
                        if (!isNaN(valorDiariaHotel)) {
                            alert("Valor inválido. O programa será encerrado.");
                            // Encerra o programa
                        } else {
                            // Pergunta ao usuário o valor da passagem de ida e volta
                            let valorPassagem = prompt("Qual é o valor da passagem de ida e volta?");

                            // Verifica se o valor informado é um número válido
                            if (!isNaN(valorPassagem)) {
                                alert("Valor inválido. O programa será encerrado.");
                                // Encerra o programa
                            } else {
                                // Pergunta ao usuário se ele deseja alugar um carro
                                let alugarCarro = prompt("Deseja alugar um carro? (S/N)");

                                if (alugarCarro === "S") {
                                    // Pergunta ao usuário o valor do aluguel do carro
                                    let valorAluguelCarro = prompt("Qual é o valor do aluguel do carro?");

                                    // Verifica se o valor informado é um número válido
                                    if (!isNaN(valorAluguelCarro)) {
                                        alert("Valor inválido. O programa será encerrado.");
                                        // Encerra o programa
                                    } else {
                                        // Pergunta ao usuário se deseja contratar o seguro do veículo
                                        let contratarSeguro = prompt("Deseja contratar o seguro do veículo? (S/N)");

                                        if (contratarSeguro === "S") {
                                            // Pergunta ao usuário qual opção de seguro deseja contratar
                                            let opcaoSeguro = prompt(`Escolha uma opção de seguro:
                                            1. Contratar seguro total 
                                            2. Contratar seguro parcial
                                            3. Contratar seguro contra roubos
                                            4. Contratar seguro contra terceiros
                                            5. Não contratar seguro`);

                                            // Verifica a opção de seguro escolhida
                                            let porcentagemSeguro = 0;
                                            let descricaoSeguro = "";

                                            if (opcaoSeguro === "1") {
                                                porcentagemSeguro = 0.08;
                                                descricaoSeguro = "seguro total";
                                            } else if (opcaoSeguro === "2") {
                                                porcentagemSeguro = 0.05;
                                                descricaoSeguro = "seguro parcial";
                                            } else if (opcaoSeguro === "3") {
                                                porcentagemSeguro = 0.04;
                                                descricaoSeguro = "seguro contra roubos";
                                            } else if (opcaoSeguro === "4") {
                                                porcentagemSeguro = 0.03;
                                                descricaoSeguro = "seguro contra terceiros";
                                            } else if (opcaoSeguro === "5") {
                                                porcentagemSeguro = 0;
                                                descricaoSeguro = "sem seguro";
                                            } else {
                                                alert("Opção de seguro inválida. O programa será encerrado.");
                                                // Encerra o programa
                                            }

                                            if (porcentagemSeguro > 0) {
                                                // Calcula o valor do seguro diário
                                                let valorSeguroDiario = valorAluguelCarro * porcentagemSeguro;
                                                alert("Valor do seguro diário: R$ " + valorSeguroDiario);
                                            } else {
                                                alert("Você optou por não contratar seguro.");
                                            }
                                        } else if (contratarSeguro === "N") {
                                            alert("Você optou por não contratar seguro.");
                                        } else {
                                            alert("Opção inválida. O programa será encerrado.");
                                            // Encerra o programa
                                        }
                                    }
                                } else if (alugarCarro === "N") {
                                    alert("Você optou por não alugar um carro.");
                                } else {
                                    alert("Opção inválida. O programa será encerrado.");
                                    // Encerra o programa
                                }

                                // Calcula o valor total da viagem
                                let custoViagem = (parseInt(diasViagem) * parseInt(valorDiariaHotel)) + parseInt(valorPassagem);

                                if (alugarCarro === "S") {
                                    custoViagem += parseInt(valorAluguelCarro);
                                    if (contratarSeguro === "S") {
                                        custoViagem += (parseInt(diasViagem) * parseInt(valorSeguroDiario));
                                    }
                                }

                                // Calcula o valor que o usuário pode gastar (20% do dinheiro que possui)
                                let valorGastoPermitido = parseFloat(dinheiroViagem) * 0.2;

                                // Verifica se o custo da viagem ultrapassa o valor permitido
                                if (custoViagem > valorGastoPermitido * 1.2) {
                                    alert("O custo da viagem ultrapassa o valor que você possui guardado. Infelizmente, a viagem não pode ser realizada.");
                                    // Encerra o programa
                                } else if (custoViagem > valorGastoPermitido) {
                                    alert("O custo da viagem ultrapassa o valor que você possui guardado em até 10%.");
                                    let respostaContinuar = prompt("Deseja continuar com a viagem? (S/N)");

                                    if (respostaContinuar === "S") {
                                        // Calcula a quantia faltante para realizar a viagem
                                        let quantiaFaltante = custoViagem - valorGastoPermitido;
                                        alert("A quantia faltante para realizar a viagem é de R$ " + quantiaFaltante);
                                    } else if (respostaContinuar === "N") {
                                        alert("Infelizmente, a viagem não será realizada.");
                                        // Encerra o programa
                                    } else {
                                        alert("Opção inválida. O programa será encerrado.");
                                        // Encerra o programa
                                    }
                                } else {
                                    alert("A viagem pode ser realizada com sucesso!");

                                    // Pergunta ao usuário a forma de pagamento
                                    let formaPagamento = prompt("Como deseja pagar a diferença? B - Boleto C - Cartão de Crédito P - Pix");

                                    // Verifica a forma de pagamento escolhida
                                    let valorTotal = custoViagem.toFixed(2);
                                    let valorAdicional = (custoViagem - valorGastoPermitido).toFixed(2);

                                    if (formaPagamento === "B") {
                                        valorTotal *= 1.05;
                                    } else if (formaPagamento === "C") {
                                        valorTotal *= 1.02;
                                    } else if (formaPagamento === "P") {
                                        valorTotal = valorTotal;
                                    } else {
                                        alert("Forma de pagamento inválida. O programa será encerrado.");
                                        // Encerra o programa
                                    }

                                    alert("O valor total da viagem é R$ " + valorTotal);

                                    let parcelarPagamento = prompt("Deseja parcelar o pagamento? (S/N)");

                                    if (parcelarPagamento === "S") {
                                        let numParcelas = prompt("Em quantas parcelas deseja realizar o pagamento?");
                                        let valorParcela = (valorTotal / numParcelas).toFixed(2);
                                        alert("O valor de cada parcela é R$ " + valorParcela);
                                    } else if (parcelarPagamento === "N") {
                                        alert("O pagamento será realizado à vista.");
                                    } else {
                                        alert("Opção inválida. O programa será encerrado.");
                                        // Encerra o programa
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

</script>